!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("pinata-sdk",[],t):"object"==typeof exports?exports["pinata-sdk"]=t():e["pinata-sdk"]=t()}("undefined"!=typeof self?self:this,(function(){return(()=>{var e={114:e=>{"use strict";function t(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,r,n){if(!e||"string"==typeof e)throw new TypeError("Please pass an Error to err-code");n||(n={}),"object"==typeof r&&(n=r,r=""),r&&(n.code=r);try{return t(e,n)}catch(r){n.message=e.message,n.stack=e.stack;const o=function(){};o.prototype=Object.create(Object.getPrototypeOf(e));return t(new o,n)}}},476:e=>{"use strict";const t="[a-fA-F\\d:]",r=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${t})|(?<=${t})(?=\\s|$))`:"",n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",o="[a-fA-F\\d]{1,4}",i=`\n(?:\n(?:${o}:){7}(?:${o}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${o}:){6}(?:${n}|:${o}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${o}:){5}(?::${n}|(?::${o}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${o}:){4}(?:(?::${o}){0,1}:${n}|(?::${o}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${o}:){3}(?:(?::${o}){0,2}:${n}|(?::${o}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${o}:){2}(?:(?::${o}){0,3}:${n}|(?::${o}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${o}:){1}(?:(?::${o}){0,4}:${n}|(?::${o}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::${o}){0,5}:${n}|(?::${o}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp(`(?:^${n}$)|(?:^${i}$)`),s=new RegExp(`^${n}$`),c=new RegExp(`^${i}$`),u=e=>e&&e.exact?a:new RegExp(`(?:${r(e)}${n}${r(e)})|(?:${r(e)}${i}${r(e)})`,"g");u.v4=e=>e&&e.exact?s:new RegExp(`${r(e)}${n}${r(e)}`,"g"),u.v6=e=>e&&e.exact?c:new RegExp(`${r(e)}${i}${r(e)}`,"g"),e.exports=u},3:(e,t,r)=>{"use strict";const n=r(476),o=e=>n({exact:!0}).test(e);o.v4=e=>n.v4({exact:!0}).test(e),o.v6=e=>n.v6({exact:!0}).test(e),o.version=e=>o(e)?o.v4(e)?4:6:void 0,e.exports=o},981:(e,t,r)=>{"use strict";const{base58btc:n}=r(301),{base32:o}=r(321),i=r(246),{Multiaddr:a}=r(584),s=r(175),{CID:c}=r(352),{URL:u}=r(745),p=r(71),h=/^https?:\/\/[^/]+\/(ip[fn]s)\/([^/?#]+)/,f=/^\/(ip[fn]s)\/([^/?#]+)/,d=/^https?:\/\/([^/]+)\.(ip[fn]s)\.[^/?]+/,l=/^(([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])\.)+([a-z0-9]|[a-z0-9][a-z0-9-]*[a-z0-9])$/;function b(e){try{return"string"==typeof e?Boolean(c.parse(e)):e instanceof Uint8Array?Boolean(c.decode(e)):Boolean(c.asCID(e))}catch(e){return!1}}function w(e){if(!e)return!1;if(a.isMultiaddr(e))return!0;try{return new a(e),!0}catch(e){return!1}}function y(e,t,r=1,n=2){const o=m(e);if(!o)return!1;const i=o.match(t);if(!i)return!1;if("ipfs"!==i[r])return!1;let a=i[n];return a&&t===d&&(a=a.toLowerCase()),b(a)}function v(e,t,r=1,n=2){const o=m(e);if(!o)return!1;const i=o.match(t);if(!i)return!1;if("ipns"!==i[r])return!1;let a=i[n];if(a&&t===d){if(a=a.toLowerCase(),b(a))return!0;try{!a.includes(".")&&a.includes("-")&&(a=a.replace(/--/g,"@").replace(/-/g,".").replace(/@/g,"-"));const{hostname:e}=new u(`http://${a}`);return l.test(e)}catch(e){return!1}}return!0}function g(e){return"string"==typeof e}function m(e){return e instanceof Uint8Array?p(e,"base58btc"):!!g(e)&&e}const x=e=>y(e,d,2,1),E=e=>v(e,d,2,1),S=e=>x(e)||E(e),P=e=>y(e,h)||x(e),k=e=>v(e,h)||E(e),_=e=>P(e)||k(e)||S(e),j=e=>y(e,f)||v(e,f);e.exports={multihash:function(e){const t=m(e);try{i.decode(n.decode("z"+t))}catch{return!1}return!0},multiaddr:w,peerMultiaddr:function(e){return w(e)&&s.P2P.matches(e)},cid:b,base32cid:e=>function(e){try{o.decode(e)}catch{return!1}return!0}(e)&&b(e),ipfsSubdomain:x,ipnsSubdomain:E,subdomain:S,subdomainGatewayPattern:d,ipfsUrl:P,ipnsUrl:k,url:_,pathGatewayPattern:h,ipfsPath:e=>y(e,f),ipnsPath:e=>v(e,f),path:j,pathPattern:f,urlOrPath:e=>_(e)||j(e),cidPath:e=>g(e)&&!b(e)&&y(`/ipfs/${e}`,f)}},745:(e,t,r)=>{"use strict";const{URLWithLegacySupport:n,format:o,URLSearchParams:i,defaultBase:a}=r(49),s=r(939);e.exports={URL:n,URLSearchParams:i,format:o,relative:s,defaultBase:a}},939:(e,t,r)=>{"use strict";const{URLWithLegacySupport:n,format:o}=r(49);e.exports=(e,t={},r={},i)=>{let a,s=t.protocol?t.protocol.replace(":",""):"http";s=(r[s]||i||s)+":";try{a=new n(e)}catch(e){a={}}const c=Object.assign({},t,{protocol:s||a.protocol,host:t.host||a.host});return new n(e,o(c)).toString()}},49:e=>{"use strict";const t="undefined"!=typeof navigator&&"ReactNative"===navigator.product;const r=self.URL,n=t?"http://localhost":self.location.protocol+"//"+self.location.host;e.exports={URLWithLegacySupport:class{constructor(e="",t=n){this.super=new r(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set username(e){this.super.username=e}static createObjectURL(e){return r.createObjectURL(e)}static revokeObjectURL(e){r.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}},URLSearchParams:self.URLSearchParams,defaultBase:n,format:function(e){if("string"==typeof e){return new r(e).toString()}if(!(e instanceof r)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",o=e.protocol?e.protocol+"//":"",i=e.host||"",a=e.hostname||"",s=e.search||(e.query?"?"+e.query:""),c=e.hash||"",u=e.pathname||"";return`${o}${t||r}${i||a+n}${e.path||u+s}${c}`}}}},378:(e,t,r)=>{e=r.nmd(e);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Function]",s="[object Object]",c=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p[i]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p[a]=p["[object Map]"]=p["[object Number]"]=p[s]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1;var h="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,f="object"==typeof self&&self&&self.Object===Object&&self,d=h||f||Function("return this")(),l=t&&!t.nodeType&&t,b=l&&e&&!e.nodeType&&e,w=b&&b.exports===l,y=w&&h.process,v=function(){try{var e=b&&b.require&&b.require("util").types;return e||y&&y.binding&&y.binding("util")}catch(e){}}(),g=v&&v.isTypedArray;function m(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var x,E,S,P=Array.prototype,k=Function.prototype,_=Object.prototype,j=d["__core-js_shared__"],A=k.toString,T=_.hasOwnProperty,O=(x=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+x:"",C=_.toString,I=A.call(Object),M=RegExp("^"+A.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=w?d.Buffer:void 0,$=d.Symbol,R=d.Uint8Array,z=U?U.allocUnsafe:void 0,D=(E=Object.getPrototypeOf,S=Object,function(e){return E(S(e))}),L=Object.create,N=_.propertyIsEnumerable,V=P.splice,B=$?$.toStringTag:void 0,F=function(){try{var e=le(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),J=U?U.isBuffer:void 0,q=Math.max,W=Date.now,H=le(d,"Map"),G=le(Object,"create"),Q=function(){function e(){}return function(t){if(!_e(t))return{};if(L)return L(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function K(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function X(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Z(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Y(e){var t=this.__data__=new X(e);this.size=t.size}function ee(e,t){var r=xe(e),n=!r&&me(e),o=!r&&!n&&Se(e),i=!r&&!n&&!o&&Ae(e),a=r||n||o||i,s=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],c=s.length;for(var u in e)!t&&!T.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||be(u,c))||s.push(u);return s}function te(e,t,r){(void 0!==r&&!ge(e[t],r)||void 0===r&&!(t in e))&&oe(e,t,r)}function re(e,t,r){var n=e[t];T.call(e,t)&&ge(n,r)&&(void 0!==r||t in e)||oe(e,t,r)}function ne(e,t){for(var r=e.length;r--;)if(ge(e[r][0],t))return r;return-1}function oe(e,t,r){"__proto__"==t&&F?F(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}K.prototype.clear=function(){this.__data__=G?G(null):{},this.size=0},K.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},K.prototype.get=function(e){var t=this.__data__;if(G){var r=t[e];return r===n?void 0:r}return T.call(t,e)?t[e]:void 0},K.prototype.has=function(e){var t=this.__data__;return G?void 0!==t[e]:T.call(t,e)},K.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=G&&void 0===t?n:t,this},X.prototype.clear=function(){this.__data__=[],this.size=0},X.prototype.delete=function(e){var t=this.__data__,r=ne(t,e);return!(r<0)&&(r==t.length-1?t.pop():V.call(t,r,1),--this.size,!0)},X.prototype.get=function(e){var t=this.__data__,r=ne(t,e);return r<0?void 0:t[r][1]},X.prototype.has=function(e){return ne(this.__data__,e)>-1},X.prototype.set=function(e,t){var r=this.__data__,n=ne(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Z.prototype.clear=function(){this.size=0,this.__data__={hash:new K,map:new(H||X),string:new K}},Z.prototype.delete=function(e){var t=de(this,e).delete(e);return this.size-=t?1:0,t},Z.prototype.get=function(e){return de(this,e).get(e)},Z.prototype.has=function(e){return de(this,e).has(e)},Z.prototype.set=function(e,t){var r=de(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Y.prototype.clear=function(){this.__data__=new X,this.size=0},Y.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Y.prototype.get=function(e){return this.__data__.get(e)},Y.prototype.has=function(e){return this.__data__.has(e)},Y.prototype.set=function(e,t){var r=this.__data__;if(r instanceof X){var n=r.__data__;if(!H||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Z(n)}return r.set(e,t),this.size=r.size,this};var ie,ae=function(e,t,r){for(var n=-1,o=Object(e),i=r(e),a=i.length;a--;){var s=i[ie?a:++n];if(!1===t(o[s],s,o))break}return e};function se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":B&&B in Object(e)?function(e){var t=T.call(e,B),r=e[B];try{e[B]=void 0;var n=!0}catch(e){}var o=C.call(e);n&&(t?e[B]=r:delete e[B]);return o}(e):function(e){return C.call(e)}(e)}function ce(e){return je(e)&&se(e)==i}function ue(e){return!(!_e(e)||function(e){return!!O&&O in e}(e))&&(Pe(e)?M:c).test(function(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function pe(e){if(!_e(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=we(e),r=[];for(var n in e)("constructor"!=n||!t&&T.call(e,n))&&r.push(n);return r}function he(e,t,r,n,o){e!==t&&ae(t,(function(i,a){if(o||(o=new Y),_e(i))!function(e,t,r,n,o,i,a){var c=ye(e,r),u=ye(t,r),p=a.get(u);if(p)return void te(e,r,p);var h=i?i(c,u,r+"",e,t,a):void 0,f=void 0===h;if(f){var d=xe(u),l=!d&&Se(u),b=!d&&!l&&Ae(u);h=u,d||l||b?xe(c)?h=c:je(m=c)&&Ee(m)?h=function(e,t){var r=-1,n=e.length;t||(t=Array(n));for(;++r<n;)t[r]=e[r];return t}(c):l?(f=!1,h=function(e,t){if(t)return e.slice();var r=e.length,n=z?z(r):new e.constructor(r);return e.copy(n),n}(u,!0)):b?(f=!1,w=u,y=!0?(v=w.buffer,g=new v.constructor(v.byteLength),new R(g).set(new R(v)),g):w.buffer,h=new w.constructor(y,w.byteOffset,w.length)):h=[]:function(e){if(!je(e)||se(e)!=s)return!1;var t=D(e);if(null===t)return!0;var r=T.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&A.call(r)==I}(u)||me(u)?(h=c,me(c)?h=function(e){return function(e,t,r,n){var o=!r;r||(r={});var i=-1,a=t.length;for(;++i<a;){var s=t[i],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),o?oe(r,s,c):re(r,s,c)}return r}(e,Te(e))}(c):_e(c)&&!Pe(c)||(h=function(e){return"function"!=typeof e.constructor||we(e)?{}:Q(D(e))}(u))):f=!1}var w,y,v,g;var m;f&&(a.set(u,h),o(h,u,n,i,a),a.delete(u));te(e,r,h)}(e,t,a,r,he,n,o);else{var c=n?n(ye(e,a),i,a+"",e,t,o):void 0;void 0===c&&(c=i),te(e,a,c)}}),Te)}function fe(e,t){return ve(function(e,t,r){return t=q(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=q(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=n[o];return s[t]=r(a),m(e,this,s)}}(e,t,Ie),e+"")}function de(e,t){var r,n,o=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof t?"string":"hash"]:o.map}function le(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return ue(r)?r:void 0}function be(e,t){var r=typeof e;return!!(t=null==t?o:t)&&("number"==r||"symbol"!=r&&u.test(e))&&e>-1&&e%1==0&&e<t}function we(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_)}function ye(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ve=function(e){var t=0,r=0;return function(){var n=W(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(F?function(e,t){return F(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:Ie);function ge(e,t){return e===t||e!=e&&t!=t}var me=ce(function(){return arguments}())?ce:function(e){return je(e)&&T.call(e,"callee")&&!N.call(e,"callee")},xe=Array.isArray;function Ee(e){return null!=e&&ke(e.length)&&!Pe(e)}var Se=J||function(){return!1};function Pe(e){if(!_e(e))return!1;var t=se(e);return t==a||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function _e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function je(e){return null!=e&&"object"==typeof e}var Ae=g?function(e){return function(t){return e(t)}}(g):function(e){return je(e)&&ke(e.length)&&!!p[se(e)]};function Te(e){return Ee(e)?ee(e,!0):pe(e)}var Oe,Ce=(Oe=function(e,t,r){he(e,t,r)},fe((function(e,t){var r=-1,n=t.length,o=n>1?t[n-1]:void 0,i=n>2?t[2]:void 0;for(o=Oe.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(e,t,r){if(!_e(r))return!1;var n=typeof t;return!!("number"==n?Ee(r)&&be(t,r.length):"string"==n&&t in r)&&ge(r[t],e)}(t[0],t[1],i)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var a=t[r];a&&Oe(e,a,r,o)}return e})));function Ie(e){return e}e.exports=Ce},175:(e,t,r)=>{"use strict";const{Multiaddr:n}=r(584),o=O("dns4"),i=O("dns6"),a=O("dnsaddr"),s=T(O("dns"),a,o,i),c=T(O("ip4"),O("ip6")),u=T(A(c,O("tcp")),A(s,O("tcp"))),p=A(c,O("udp")),h=A(p,O("utp")),f=A(p,O("quic")),d=T(A(u,O("ws")),A(s,O("ws"))),l=T(A(u,O("wss")),A(s,O("wss"))),b=T(A(u,O("http")),A(c,O("http")),A(s,O("http"))),w=T(A(u,O("https")),A(c,O("https")),A(s,O("https"))),y=T(A(d,O("p2p-webrtc-star"),O("p2p")),A(l,O("p2p-webrtc-star"),O("p2p")),A(d,O("p2p-webrtc-star")),A(l,O("p2p-webrtc-star"))),v=T(A(d,O("p2p-websocket-star"),O("p2p")),A(l,O("p2p-websocket-star"),O("p2p")),A(d,O("p2p-websocket-star")),A(l,O("p2p-websocket-star"))),g=T(A(b,O("p2p-webrtc-direct"),O("p2p")),A(w,O("p2p-webrtc-direct"),O("p2p")),A(b,O("p2p-webrtc-direct")),A(w,O("p2p-webrtc-direct"))),m=T(d,l,b,w,y,g,u,h,f,s),x=T(A(m,O("p2p-stardust"),O("p2p")),A(m,O("p2p-stardust"))),E=T(A(m,O("p2p")),y,g,O("p2p")),S=T(A(E,O("p2p-circuit"),E),A(E,O("p2p-circuit")),A(O("p2p-circuit"),E),A(m,O("p2p-circuit")),A(O("p2p-circuit"),m),O("p2p-circuit")),P=()=>T(A(S,P),S),k=P(),_=T(A(k,E,k),A(E,k),A(k,E),k,E);function j(e){return function(t){if(!n.isMultiaddr(t))try{t=new n(t)}catch(e){return!1}const r=e(t.protoNames());return null!==r&&(!0===r||!1===r?r:0===r.length)}}function A(...e){function t(t){if(t.length<e.length)return null;let r=t;return e.some((e=>(r="function"==typeof e?e().partialMatch(t):e.partialMatch(t),Array.isArray(r)&&(t=r),null===r))),r}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:j(t),partialMatch:t}}function T(...e){function t(t){let r=null;return e.some((e=>{const n="function"==typeof e?e().partialMatch(t):e.partialMatch(t);return!!n&&(r=n,!0)})),r}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:j(t),partialMatch:t}}function O(e){const t=e;return{toString:function(){return t},matches:function(e){let r;if("string"==typeof e||e instanceof Uint8Array)try{r=new n(e)}catch(e){return!1}else r=e;const o=r.protoNames();return 1===o.length&&o[0]===t},partialMatch:function(e){return 0===e.length?null:e[0]===t?e.slice(1):null}}}e.exports={DNS:s,DNS4:o,DNS6:i,DNSADDR:a,IP:c,TCP:u,UDP:p,QUIC:f,UTP:h,HTTP:b,HTTPS:w,WebSockets:d,WebSocketsSecure:l,WebSocketStar:v,WebRTCStar:y,WebRTCDirect:g,Reliable:m,Stardust:x,Circuit:k,P2P:_,IPFS:_}},190:(e,t,r)=>{"use strict";const n=r(918),o=r(768),i=r(676),a=r(643),s=r(71);function c(e){const t=[],r=e.split("/").slice(1);if(1===r.length&&""===r[0])return[];for(let n=0;n<r.length;n++){const i=r[n],a=o(i);if(0!==a.size){if(n++,n>=r.length)throw g("invalid address: "+e);if(a.path){t.push([i,v(r.slice(n).join("/"))]);break}t.push([i,r[n]])}else t.push([i])}return t}function u(e){const t=[];return e.map((e=>{const r=m(e);return t.push(r.name),e.length>1&&t.push(e[1]),null})),v(t.join("/"))}function p(e){return e.map((e=>{Array.isArray(e)||(e=[e]);const t=m(e);return e.length>1?[t.code,n.toBytes(t.code,e[1])]:[t.code]}))}function h(e){return e.map((e=>{const t=m(e);return e[1]?[t.code,n.toString(t.code,e[1])]:[t.code]}))}function f(e){return w(a(e.map((e=>{const t=m(e);let r=Uint8Array.from(i.encode(t.code));return e.length>1&&(r=a([r,e[1]])),r}))))}function d(e,t){if(e.size>0)return e.size/8;if(0===e.size)return 0;return i.decode(t)+i.decode.bytes}function l(e){const t=[];let r=0;for(;r<e.length;){const n=i.decode(e,r),a=i.decode.bytes,c=d(o(n),e.slice(r+a));if(0===c){t.push([n]),r+=a;continue}const u=e.slice(r+a,r+a+c);if(r+=c+a,r>e.length)throw g("Invalid address Uint8Array: "+s(e,"base16"));t.push([n,u])}return t}function b(e){return f(p(c(e=v(e))))}function w(e){const t=y(e);if(t)throw t;return Uint8Array.from(e)}function y(e){try{l(e)}catch(e){return e}}function v(e){return"/"+e.trim().split("/").filter((e=>e)).join("/")}function g(e){return new Error("Error parsing address: "+e)}function m(e){return o(e[0])}e.exports={stringToStringTuples:c,stringTuplesToString:u,tuplesToStringTuples:h,stringTuplesToTuples:p,bytesToTuples:l,tuplesToBytes:f,bytesToString:function(e){const t=l(e);return u(h(t))},stringToBytes:b,fromString:function(e){return b(e)},fromBytes:w,validateBytes:y,isValidBytes:function(e){return void 0===y(e)},cleanPath:v,ParseError:g,protoFromTuple:m,sizeForAddr:d}},918:(e,t,r)=>{"use strict";const n=r(692),o=r(768),{CID:i}=r(352),{base32:a}=r(321),{base58btc:s}=r(301),c=r(246),u=r(676),p=r(71),h=r(962),f=r(643);function d(e,t){return t instanceof Uint8Array?d.toString(e,t):d.toBytes(e,t)}function l(e){if(!n.isIP(e))throw new Error("invalid ip address");return n.toBytes(e)}function b(e){const t=new ArrayBuffer(2);return new DataView(t).setUint16(0,e),new Uint8Array(t)}function w(e){return new DataView(e.buffer).getUint16(e.byteOffset)}function y(e){const t=e.slice(0,e.length-2),r=e.slice(e.length-2);return p(t,"base32")+":"+w(r)}e.exports=d,d.toString=function(e,t){switch(o(e).code){case 4:case 41:return function(e){const t=n.toString(e);if(!t||!n.isIP(t))throw new Error("invalid ip address");return t}(t);case 6:case 273:case 33:case 132:return w(t).toString();case 53:case 54:case 55:case 56:case 400:case 777:return function(e){const t=u.decode(e);if((e=e.slice(u.decode.bytes)).length!==t)throw new Error("inconsistent lengths");return p(e)}(t);case 421:return function(e){const t=u.decode(e),r=e.slice(u.decode.bytes);if(r.length!==t)throw new Error("inconsistent lengths");return p(r,"base58btc")}(t);case 444:case 445:return y(t);default:return p(t,"base16")}},d.toBytes=function(e,t){switch(o(e).code){case 4:case 41:return l(t);case 6:case 273:case 33:case 132:return b(parseInt(t,10));case 53:case 54:case 55:case 56:case 400:case 777:return function(e){const t=h(e),r=Uint8Array.from(u.encode(t.length));return f([r,t],r.length+t.length)}(t);case 421:return function(e){let t;t="Q"===e[0]||"1"===e[0]?c.decode(s.decode(`z${e}`)).bytes:i.parse(e).multihash.bytes;const r=Uint8Array.from(u.encode(t.length));return f([r,t],r.length+t.length)}(t);case 444:return function(e){const t=e.split(":");if(2!==t.length)throw new Error("failed to parse onion addr: "+t+" does not contain a port number");if(16!==t[0].length)throw new Error("failed to parse onion addr: "+t[0]+" not a Tor onion address.");const r=a.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");const o=b(n);return f([r,o],r.length+o.length)}(t);case 445:return function(e){const t=e.split(":");if(2!==t.length)throw new Error("failed to parse onion addr: "+t+" does not contain a port number");if(56!==t[0].length)throw new Error("failed to parse onion addr: "+t[0]+" not a Tor onion3 address.");const r=a.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");const o=b(n);return f([r,o],r.length+o.length)}(t);default:return h(t,"base16")}}},584:(e,t,r)=>{"use strict";const n=r(190),o=r(768),i=r(676),{CID:a}=r(352),{base58btc:s}=r(301),c=r(114),u=Symbol.for("nodejs.util.inspect.custom"),p=r(71),h=r(142),f=new Map,d=Symbol.for("@multiformats/js-multiaddr/multiaddr");class l{constructor(e){if(null==e&&(e=""),Object.defineProperty(this,d,{value:!0}),e instanceof Uint8Array)this.bytes=n.fromBytes(e);else if("string"==typeof e){if(e.length>0&&"/"!==e.charAt(0))throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=n.fromString(e)}else{if(!l.isMultiaddr(e))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=n.fromBytes(e.bytes)}}toString(){return n.bytesToString(this.bytes)}toJSON(){return this.toString()}toOptions(){const e={},t=this.toString().split("/");return e.family="ip4"===t[1]?4:6,e.host=t[2],e.transport=t[3],e.port=parseInt(t[4]),e}protos(){return this.protoCodes().map((e=>Object.assign({},o(e))))}protoCodes(){const e=[],t=this.bytes;let r=0;for(;r<t.length;){const a=i.decode(t,r),s=i.decode.bytes,c=o(a);r+=n.sizeForAddr(c,t.slice(r+s))+s,e.push(a)}return e}protoNames(){return this.protos().map((e=>e.name))}tuples(){return n.bytesToTuples(this.bytes)}stringTuples(){const e=n.bytesToTuples(this.bytes);return n.tuplesToStringTuples(e)}encapsulate(e){return e=new l(e),new l(this.toString()+e.toString())}decapsulate(e){const t=e.toString(),r=this.toString(),n=r.lastIndexOf(t);if(n<0)throw new Error("Address "+this+" does not contain subaddress: "+e);return new l(r.slice(0,n))}decapsulateCode(e){const t=this.tuples();for(let r=t.length-1;r>=0;r--)if(t[r][0]===e)return new l(n.tuplesToBytes(t.slice(0,r)));return this}getPeerId(){try{const e=this.stringTuples().filter((e=>e[0]===o.names.ipfs.code)).pop();if(e&&e[1]){const t=e[1];return"Q"===t[0]||"1"===t[0]?p(s.decode(`z${t}`),"base58btc"):p(a.parse(t).multihash.bytes,"base58btc")}return null}catch(e){return null}}getPath(){let e=null;try{e=this.stringTuples().filter((e=>!!o(e[0]).path))[0][1],e||(e=null)}catch(t){e=null}return e}equals(e){return h(this.bytes,e.bytes)}async resolve(){const e=this.protos().find((e=>e.resolvable));if(!e)return[this];const t=f.get(e.name);if(!t)throw c(new Error(`no available resolver for ${e.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await t(this)).map((e=>new l(e)))}nodeAddress(){const e=this.protoCodes(),t=this.protoNames(),r=this.toString().split("/").slice(1);if(r.length<4)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6}/{address}/{tcp, udp}/{port}".');if(4!==e[0]&&41!==e[0]&&54!==e[0]&&55!==e[0])throw new Error(`no protocol with name: "'${t[0]}'". Must have a valid family name: "{ip4, ip6, dns4, dns6}".`);if("tcp"!==r[2]&&"udp"!==r[2])throw new Error(`no protocol with name: "'${t[1]}'". Must have a valid transport protocol: "{tcp, udp}".`);return{family:41===e[0]||55===e[0]?6:4,address:r[1],port:parseInt(r[3])}}isThinWaistAddress(e){const t=(e||this).protos();return 2===t.length&&((4===t[0].code||41===t[0].code)&&(6===t[1].code||273===t[1].code))}static fromNodeAddress(e,t){if(!e)throw new Error("requires node address object");if(!t)throw new Error("requires transport protocol");let r;switch(e.family){case 4:r="ip4";break;case 6:r="ip6";break;default:throw Error(`Invalid addr family. Got '${e.family}' instead of 4 or 6`)}return new l("/"+[r,e.address,t,e.port].join("/"))}static isName(e){return!!l.isMultiaddr(e)&&e.protos().some((e=>e.resolvable))}static isMultiaddr(e){return e instanceof l||Boolean(e&&e[d])}[u](){return"<Multiaddr "+p(this.bytes,"base16")+" - "+n.bytesToString(this.bytes)+">"}inspect(){return"<Multiaddr "+p(this.bytes,"base16")+" - "+n.bytesToString(this.bytes)+">"}}l.protocols=o,l.resolvers=f,e.exports={Multiaddr:l,multiaddr:function(e){return new l(e)},protocols:o,resolvers:f}},692:(e,t,r)=>{"use strict";const n=r(3),o=r(71),i=n,a=n.v4,s=n.v6,c=function(e,t,r){let n;if(r=~~r,a(e))n=t||new Uint8Array(r+4),e.split(/\./g).map((function(e){n[r++]=255&parseInt(e,10)}));else if(s(e)){const i=e.split(":",8);let s;for(s=0;s<i.length;s++){let e;a(i[s])&&(e=c(i[s]),i[s]=o(e.slice(0,2),"base16")),e&&++s<8&&i.splice(s,0,o(e.slice(2,4),"base16"))}if(""===i[0])for(;i.length<8;)i.unshift("0");else if(""===i[i.length-1])for(;i.length<8;)i.push("0");else if(i.length<8){for(s=0;s<i.length&&""!==i[s];s++);const e=[s,"1"];for(s=9-i.length;s>0;s--)e.push("0");i.splice.apply(i,e)}for(n=t||new Uint8Array(r+16),s=0;s<i.length;s++){const e=parseInt(i[s],16);n[r++]=e>>8&255,n[r++]=255&e}}if(!n)throw Error("Invalid ip address: "+e);return n};e.exports={isIP:i,isV4:a,isV6:s,toBytes:c,toString:function(e,t,r){t=~~t,r=r||e.length-t;const n=[];let o;const i=new DataView(e.buffer);if(4===r){for(let o=0;o<r;o++)n.push(e[t+o]);o=n.join(".")}else if(16===r){for(let e=0;e<r;e+=2)n.push(i.getUint16(t+e).toString(16));o=n.join(":"),o=o.replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3"),o=o.replace(/:{3,4}/,"::")}return o}}},768:e=>{"use strict";function t(e){if("number"==typeof e){if(t.codes[e])return t.codes[e];throw new Error("no protocol with code: "+e)}if("string"==typeof e){if(t.names[e])return t.names[e];throw new Error("no protocol with name: "+e)}throw new Error("invalid protocol id type: "+e)}const r=-1;function n(e,t,r,n,o){return{code:e,size:t,name:r,resolvable:Boolean(n),path:Boolean(o)}}t.lengthPrefixedVarSize=r,t.V=r,t.table=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,r,"ip6zone"],[53,r,"dns","resolvable"],[54,r,"dns4","resolvable"],[55,r,"dns6","resolvable"],[56,r,"dnsaddr","resolvable"],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,r,"unix",!1,"path"],[421,r,"ipfs"],[421,r,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,r,"garlic64"],[460,0,"quic"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,r,"memory"]],t.names={},t.codes={},t.table.map((e=>{const r=n.apply(null,e);return t.codes[r.code]=r,t.names[r.name]=r,null})),t.object=n,e.exports=t},30:(e,t,r)=>{"use strict";r.d(t,{kU:()=>p,Dp:()=>u,ET:()=>h});const n=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),a=i.charCodeAt(0);if(255!==r[a])throw new TypeError(i+" is ambiguous");r[a]=o}var s=e.length,c=e.charAt(0),u=Math.log(s)/Math.log(256),p=Math.log(256)/Math.log(s);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,o=0;e[t]===c;)n++,t++;for(var i=(e.length-t)*u+1>>>0,a=new Uint8Array(i);e[t];){var p=r[e.charCodeAt(t)];if(255===p)return;for(var h=0,f=i-1;(0!==p||h<o)&&-1!==f;f--,h++)p+=s*a[f]>>>0,a[f]=p%256>>>0,p=p/256>>>0;if(0!==p)throw new Error("Non-zero carry");o=h,t++}if(" "!==e[t]){for(var d=i-o;d!==i&&0===a[d];)d++;for(var l=new Uint8Array(n+(i-d)),b=n;d!==i;)l[b++]=a[d++];return l}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,o=0,i=t.length;o!==i&&0===t[o];)o++,r++;for(var a=(i-o)*p+1>>>0,u=new Uint8Array(a);o!==i;){for(var h=t[o],f=0,d=a-1;(0!==h||f<n)&&-1!==d;d--,f++)h+=256*u[d]>>>0,u[d]=h%s>>>0,h=h/s>>>0;if(0!==h)throw new Error("Non-zero carry");n=f,o++}for(var l=a-n;l!==a&&0===u[l];)l++;for(var b=c.repeat(r);l<a;++l)b+=e.charAt(u[l]);return b},decodeUnsafe:h,decode:function(e){var r=h(e);if(r)return r;throw new Error(`Non-${t} character`)}}};var o=r(316);class i{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class a{constructor(e,t,r){this.name=e,this.prefix=t,this.baseDecode=r}decode(e){if("string"!=typeof e)throw Error("Can only multibase decode strings");switch(e[0]){case this.prefix:return this.baseDecode(e.slice(1));default:throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)}}or(e){const t={[this.prefix]:this,...e.decoders||{[e.prefix]:e}};return new s(t)}}class s{constructor(e){this.decoders=e}or(e){const t=e.decoders||{[e.prefix]:e};return new s({...this.decoders,...t})}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}class c{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new i(e,t,r),this.decoder=new a(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const u=({name:e,prefix:t,encode:r,decode:n})=>new c(e,t,r,n),p=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:a}=n(r,t);return u({prefix:e,name:t,encode:i,decode:e=>(0,o.coerce)(a(e))})},h=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>u({prefix:t,name:e,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],o=(1<<r)-1;let i="",a=0,s=0;for(let n=0;n<e.length;++n)for(s=s<<8|e[n],a+=8;a>r;)a-=r,i+=t[o&s>>a];if(a&&(i+=t[o&s<<r-a]),n)for(;i.length*r&7;)i+="=";return i})(e,n,r),decode:t=>((e,t,r,n)=>{const o={};for(let e=0;e<t.length;++e)o[t[e]]=e;let i=e.length;for(;"="===e[i-1];)--i;const a=new Uint8Array(i*r/8|0);let s=0,c=0,u=0;for(let t=0;t<i;++t){const i=o[e[t]];if(void 0===i)throw new SyntaxError(`Non-${n} character`);c=c<<r|i,s+=r,s>=8&&(s-=8,a[u++]=255&c>>s)}if(s>=r||255&c<<8-s)throw new SyntaxError("Unexpected end of data");return a})(t,n,r,e)})},321:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base32:()=>o,base32upper:()=>i,base32pad:()=>a,base32padupper:()=>s,base32hex:()=>c,base32hexupper:()=>u,base32hexpad:()=>p,base32hexpadupper:()=>h,base32z:()=>f});var n=r(30);const o=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),i=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),a=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),s=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),p=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),h=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),f=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},301:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base58btc:()=>o,base58flickr:()=>i});var n=r(30);const o=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),i=(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},785:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CID:()=>H.CID,bases:()=>Q,bytes:()=>w,codecs:()=>X,digest:()=>C,hasher:()=>p,hashes:()=>K,varint:()=>G});var n={};r.r(n),r.d(n,{identity:()=>y});var o={};r.r(o),r.d(o,{base2:()=>v});var i={};r.r(i),r.d(i,{base8:()=>g});var a={};r.r(a),r.d(a,{base10:()=>m});var s={};r.r(s),r.d(s,{base16:()=>x,base16upper:()=>E});var c={};r.r(c),r.d(c,{base36:()=>P,base36upper:()=>k});var u={};r.r(u),r.d(u,{base64:()=>j,base64pad:()=>A,base64url:()=>T,base64urlpad:()=>O});var p={};r.r(p),r.d(p,{Hasher:()=>M,from:()=>I});var h={};r.r(h),r.d(h,{sha256:()=>$,sha512:()=>R});var f={};r.r(f),r.d(f,{identity:()=>z});var d={};r.r(d),r.d(d,{code:()=>N,decode:()=>B,encode:()=>V,name:()=>L});var l={};r.r(l),r.d(l,{code:()=>J,decode:()=>W,encode:()=>q,name:()=>F});var b=r(30),w=r(316);const y=(0,b.Dp)({prefix:"\0",name:"identity",encode:e=>(0,w.toString)(e),decode:e=>(0,w.fromString)(e)}),v=(0,b.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),g=(0,b.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),m=(0,b.kU)({prefix:"9",name:"base10",alphabet:"0123456789"}),x=(0,b.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),E=(0,b.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var S=r(321);const P=(0,b.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),k=(0,b.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var _=r(301);const j=(0,b.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),A=(0,b.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),T=(0,b.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),O=(0,b.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var C=r(246);const I=({name:e,code:t,encode:r})=>new M(e,t,r);class M{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}async digest(e){if(e instanceof Uint8Array){const t=await this.encode(e);return C.create(this.code,t)}throw Error("Unknown type, must be binary type")}}const U=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),$=I({name:"sha2-256",code:18,encode:U("SHA-256")}),R=I({name:"sha2-512",code:19,encode:U("SHA-512")}),z=I({name:"identity",code:0,encode:e=>(0,w.coerce)(e)}),D=e=>(0,w.coerce)(e),{name:L,code:N,encode:V,decode:B}={name:"raw",code:85,decode:D,encode:D},{name:F,code:J,encode:q,decode:W}={name:"json",code:512,encode:e=>(new TextEncoder).encode(JSON.stringify(e)),decode:e=>JSON.parse((new TextDecoder).decode(e))};var H=r(352),G=r(199);const Q={...n,...o,...i,...a,...s,...S,...c,..._,...u},K={...h,...f},X={raw:d,json:l}},316:(e,t,r)=>{"use strict";r.r(t),r.d(t,{equals:()=>a,coerce:()=>s,isBinary:()=>c,fromHex:()=>i,toHex:()=>o,fromString:()=>u,toString:()=>p,empty:()=>n});const n=new Uint8Array(0),o=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),i=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):n},a=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},s=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},c=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),u=e=>(new TextEncoder).encode(e),p=e=>(new TextDecoder).decode(e)},352:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CID:()=>c});var n=r(199),o=r(246),i=r(301),a=r(321),s=r(316);class c{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:y,byteLength:y,code:w,version:w,multihash:w,bytes:w,_baseCache:y,asCID:y})}toV0(){switch(this.version){case 0:return this;default:{const{code:e,multihash:t}=this;if(e!==f)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==d)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return c.createV0(t)}}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=o.create(e,t);return c.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&o.equals(this.multihash,e.multihash)}toString(e){const{bytes:t,version:r,_baseCache:n}=this;switch(r){case 0:return p(t,n,e||i.base58btc.encoder);default:return h(t,n,e||a.base32.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return v(/^0\.0/,g),!(!e||!e[b]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof c)return e;if(null!=e&&e.asCID===e){const{version:t,code:r,multihash:n,bytes:o}=e;return new c(t,r,n,o||l(t,r,n.bytes))}if(null!=e&&!0===e[b]){const{version:t,multihash:r,code:n}=e,i=o.decode(r);return c.create(t,n,i)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==f)throw new Error(`Version 0 CID must use dag-pb (code: ${f}) block encoding`);return new c(e,t,r,r.bytes);case 1:{const n=l(e,t,r.bytes);return new c(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return c.create(0,f,e)}static createV1(e,t){return c.create(1,e,t)}static decode(e){const[t,r]=c.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=c.inspectBytes(e),r=t.size-t.multihashSize,n=(0,s.coerce)(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=n.subarray(t.multihashSize-t.digestSize),a=new o.Digest(t.multihashCode,t.digestSize,i,n);return[0===t.version?c.createV0(a):c.createV1(t.codec,a),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,o]=n.decode(e.subarray(t));return t+=o,r};let o=r(),i=f;if(18===o?(o=0,t=0):1===o&&(i=r()),0!==o&&1!==o)throw new RangeError(`Invalid CID version ${o}`);const a=t,s=r(),c=r(),u=t+c;return{version:o,codec:i,multihashCode:s,digestSize:c,multihashSize:u-a,size:u}}static parse(e,t){const[r,n]=u(e,t),o=c.decode(n);return o._baseCache.set(r,e),o}}const u=(e,t)=>{switch(e[0]){case"Q":{const r=t||i.base58btc;return[i.base58btc.prefix,r.decode(`${i.base58btc.prefix}${e}`)]}case i.base58btc.prefix:{const r=t||i.base58btc;return[i.base58btc.prefix,r.decode(e)]}case a.base32.prefix:{const r=t||a.base32;return[a.base32.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},p=(e,t,r)=>{const{prefix:n}=r;if(n!==i.base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const o=t.get(n);if(null==o){const o=r.encode(e).slice(1);return t.set(n,o),o}return o},h=(e,t,r)=>{const{prefix:n}=r,o=t.get(n);if(null==o){const o=r.encode(e);return t.set(n,o),o}return o},f=112,d=18,l=(e,t,r)=>{const o=n.encodingLength(e),i=o+n.encodingLength(t),a=new Uint8Array(i+r.byteLength);return n.encodeTo(e,a,0),n.encodeTo(t,a,o),a.set(r,i),a},b=Symbol.for("@ipld/js-cid/CID"),w={writable:!1,configurable:!1,enumerable:!0},y={writable:!1,enumerable:!1,configurable:!1},v=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},g="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n"},246:(e,t,r)=>{"use strict";r.r(t),r.d(t,{create:()=>i,decode:()=>a,equals:()=>s,Digest:()=>c});var n=r(316),o=r(199);const i=(e,t)=>{const r=t.byteLength,n=o.encodingLength(e),i=n+o.encodingLength(r),a=new Uint8Array(i+r);return o.encodeTo(e,a,0),o.encodeTo(r,a,n),a.set(t,i),new c(e,r,t,a)},a=e=>{const t=(0,n.coerce)(e),[r,i]=o.decode(t),[a,s]=o.decode(t.subarray(i)),u=t.subarray(i+s);if(u.byteLength!==a)throw new Error("Incorrect length");return new c(r,a,u,t)},s=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&(0,n.equals)(e.bytes,t.bytes);class c{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},199:(e,t,r)=>{"use strict";r.r(t),r.d(t,{decode:()=>w,encodeTo:()=>y,encodingLength:()=>v});var n=function e(t,r,n){r=r||[];var i=n=n||0;for(;t>=o;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-i+1,r},o=Math.pow(2,31);var i=function e(t,r){var n,o=0,i=0,a=r=r||0,s=t.length;do{if(a>=s)throw e.bytes=0,new RangeError("Could not decode varint");n=t[a++],o+=i<28?(127&n)<<i:(127&n)*Math.pow(2,i),i+=7}while(n>=128);return e.bytes=a-r,o};var a=Math.pow(2,7),s=Math.pow(2,14),c=Math.pow(2,21),u=Math.pow(2,28),p=Math.pow(2,35),h=Math.pow(2,42),f=Math.pow(2,49),d=Math.pow(2,56),l=Math.pow(2,63);const b={encode:n,decode:i,encodingLength:function(e){return e<a?1:e<s?2:e<c?3:e<u?4:e<p?5:e<h?6:e<f?7:e<d?8:e<l?9:10}},w=e=>[b.decode(e),b.decode.bytes],y=(e,t,r=0)=>(b.encode(e,t,r),t),v=e=>b.encodingLength(e)},643:e=>{"use strict";e.exports=function(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=new Uint8Array(t);let n=0;for(const t of e)r.set(t,n),n+=t.length;return r}},142:e=>{"use strict";e.exports=function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}},962:(e,t,r)=>{"use strict";const n=r(743);e.exports=function(e,t="utf8"){const r=n[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.decoder.decode(`${r.prefix}${e}`)}},71:(e,t,r)=>{"use strict";const n=r(743);e.exports=function(e,t="utf8"){const r=n[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return r.encoder.encode(e).substring(1)}},743:(e,t,r)=>{"use strict";const{bases:n}=r(785);function o(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const i=o("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),a=o("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),s={utf8:i,"utf-8":i,hex:n.base16,latin1:a,ascii:a,binary:a,...n};e.exports=s},988:e=>{e.exports=function e(t,r){var n,o=0,i=0,a=r=r||0,s=t.length;do{if(a>=s||i>49)throw e.bytes=0,new RangeError("Could not decode varint");n=t[a++],o+=i<28?(127&n)<<i:(127&n)*Math.pow(2,i),i+=7}while(n>=128);return e.bytes=a-r,o}},312:e=>{e.exports=function e(r,n,o){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");n=n||[];var i=o=o||0;for(;r>=t;)n[o++]=255&r|128,r/=128;for(;-128&r;)n[o++]=255&r|128,r>>>=7;return n[o]=0|r,e.bytes=o-i+1,n};var t=Math.pow(2,31)},676:(e,t,r)=>{e.exports={encode:r(312),decode:r(988),encodingLength:r(82)}},82:e=>{var t=Math.pow(2,7),r=Math.pow(2,14),n=Math.pow(2,21),o=Math.pow(2,28),i=Math.pow(2,35),a=Math.pow(2,42),s=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<t?1:e<r?2:e<n?3:e<o?4:e<i?5:e<a?6:e<s?7:e<c?8:e<u?9:10}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n](i,i.exports,r),i.loaded=!0,i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n={};return(()=>{"use strict";r.r(n),r.d(n,{default:()=>he});var e=r(378),t=r.n(e),o=r(981),i=r.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){if(!e||""===e)throw new Error("No pinataJWT provided! Please provide your pinata api key as an argument when you start this script")}function c(e){if(!Array.isArray(e))throw new Error("host_nodes value must be an array")}function u(e){if(e.name&&!("string"==typeof e.name||e.name instanceof String))throw new Error("metadata name must be of type string");if(e.keyvalues){if("object"!==a(e.keyvalues))throw new Error("metatadata keyvalues must be an object");var t=0;Object.entries(e.keyvalues).forEach((function(e){if(t>9)throw new Error("No more than 10 keyvalues can be provided for metadata entries");if("string"!=typeof e[1]&&"boolean"!=typeof e[1]&&isNaN(e[1]))throw new Error("Metadata keyvalue values must be strings, booleans, or numbers");t++}))}}function p(e){if(!e)throw new Error("No pin policy provided");if(!e.regions)throw new Error("No regions provided in pin policy");e.regions.length&&e.regions.forEach((function(e){if(!e.id||"[object String]"!==Object.prototype.toString.call(e.id))throw new Error("region id must be a string");if(!e.desiredReplicationCount&&0!==e.desiredReplicationCount||!Number.isInteger(e.desiredReplicationCount))throw new Error("desiredReplicationCount must be an integer")}))}function h(e){if("object"!==a(e))throw new Error("options must be an object");if(e.cidVersion&&0!=e.cidVersion&&1!=e.cidVersion)throw new Error("unsupported or invalid cidVersion");if(e.wrapWithDirectory&&!0!==e.wrapWithDirectory&&!1!==e.wrapWithDirectory)throw new Error("wrapWithDirectory must be a boolean value of true or false");e.customPinPolicy&&p(e.customPinPolicy)}function f(e){return e&&e.response&&e.response&&e.response.data&&e.response.data.error?e.response.data.error:e.data&&e.data.error?e.data.error:e.response&&e.response.error?e.response.error:e}function d(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){d(i,n,o,a,s,"next",e)}function s(e){d(i,n,o,a,s,"throw",e)}a(void 0)}))}}function b(e,t){return w.apply(this,arguments)}function w(){return(w=l(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("hashToPin value is required for pinning by hash");case 2:if(i().cid(t)){e.next=4;break}throw new Error("hashToPin value is an invalid IPFS CID");case 4:return"pinning/pinByHash",n={hashToPin:t,pinataOptions:{}},r&&(r.pinataOptions&&(n.pinataOptions=r.pinataOptions),r.pinataMetadata&&(this.validateMetadata(r.pinataMetadata),n.pinataMetadata=r.pinataMetadata)),e.prev=7,e.next=10,this.post("pinning/pinByHash",n);case 10:if(200===(o=e.sent).status){e.next=13;break}throw new Error("unknown server response while adding to pin queue: ".concat(o));case 13:return e.next=15,o.json();case 15:return e.abrupt("return",e.sent);case 18:throw e.prev=18,e.t0=e.catch(7),handleError(e.t0);case 22:case"end":return e.stop()}}),e,this,[[7,18]])})))).apply(this,arguments)}function y(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){y(i,n,o,a,s,"next",e)}function s(e){y(i,n,o,a,s,"throw",e)}a(void 0)}))}}function g(e,t){return m.apply(this,arguments)}function m(){return(m=v(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("ipfsPinHash value is required for changing the pin policy of a pin");case 2:if(i().cid(t)){e.next=4;break}throw new Error("ipfsPinHash value is an invalid IPFS CID");case 4:if(r){e.next=6;break}throw new Error("no metadata object provided");case 6:return this.validateMetadata(r),"pinning/hashMetadata",n={ipfsPinHash:t},r.name&&(n.name=r.name),r.keyvalues&&(n.keyvalues=r.keyvalues),e.prev=11,e.next=14,this.put("pinning/hashMetadata",n);case 14:if(200===(o=e.sent).status){e.next=19;break}throw new Error("unknown server response while changing metadata for hash: ".concat(o));case 19:return e.next=21,o.json();case 21:return e.abrupt("return",e.sent);case 22:e.next=28;break;case 24:throw e.prev=24,e.t0=e.catch(11),this.handleError(e.t0);case 28:case"end":return e.stop()}}),e,this,[[11,24]])})))).apply(this,arguments)}function x(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function E(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){x(i,n,o,a,s,"next",e)}function s(e){x(i,n,o,a,s,"throw",e)}a(void 0)}))}}function S(e,t){return P.apply(this,arguments)}function P(){return(P=E(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validatePinPolicyStructure(r),t){e.next=3;break}throw new Error("ipfsPinHash value is required for changing the pin policy of a pin");case 3:if(i().cid(t)){e.next=5;break}throw new Error("ipfsPinHash value is an invalid IPFS CID");case 5:if(r){e.next=7;break}throw new Error("newPinPolicy is required for changing the pin policy of a pin");case 7:return"pinning/hashPinPolicy",n={ipfsPinHash:t,newPinPolicy:r},e.prev=9,e.next=12,this.put("pinning/hashPinPolicy",n);case 12:if(200===(o=e.sent).status){e.next=15;break}throw new Error("unknown server response while changing pin policy for hash: ".concat(o));case 15:return e.next=17,o.json();case 17:return e.abrupt("return",e.sent);case 20:throw e.prev=20,e.t0=e.catch(9),this.handleError(e.t0);case 24:case"end":return e.stop()}}),e,this,[[9,20]])})))).apply(this,arguments)}function k(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function _(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){k(i,n,o,a,s,"next",e)}function s(e){k(i,n,o,a,s,"throw",e)}a(void 0)}))}}function j(e,t){return A.apply(this,arguments)}function A(){return(A=_(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new FormData,"pinning/pinFileToIPFS",n.append("file",t),r&&(r.pinataMetadata&&(this.validateMetadata(r.pinataMetadata),n.append("pinataMetadata",JSON.stringify(r.pinataMetadata))),r.pinataOptions&&(this.validatePinataOptions(r.pinataOptions),n.append("pinataOptions",JSON.stringify(r.pinataOptions)))),e.prev=4,e.next=7,this.post("pinning/pinFileToIPFS",n);case 7:if(200===(o=e.sent).status){e.next=10;break}throw new Error("unknown server response while pinning File to IPFS: ".concat(o));case 10:return e.next=12,o.json();case 12:return e.abrupt("return",e.sent);case 15:throw e.prev=15,e.t0=e.catch(4),this.handleError(e.t0);case 19:case"end":return e.stop()}}),e,this,[[4,15]])})))).apply(this,arguments)}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function C(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){O(i,n,o,a,s,"next",e)}function s(e){O(i,n,o,a,s,"throw",e)}a(void 0)}))}}function I(e,t){return M.apply(this,arguments)}function M(){return(M=C(regeneratorRuntime.mark((function e(t,r){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,"object"===T(t)){e.next=3;break}throw new Error("body must be a valid JSON object");case 3:return r&&(n={pinataContent:t},r.pinataMetadata&&(this.validateMetadata(r.pinataMetadata),n.pinataMetadata=r.pinataMetadata),r.pinataOptions&&(this.validatePinataOptions(r.pinataOptions),n.pinataOptions=r.pinataOptions)),"pinning/pinJSONToIPFS",e.prev=5,e.next=8,this.postJSON("pinning/pinJSONToIPFS",n,{headers:{"Content-Type":"application/json"}});case 8:if(200===(o=e.sent).status){e.next=11;break}throw new Error("unknown server response while pinning JSON to IPFS: ".concat(o));case 11:return console.log("pinJSONToIPFS raw result",o),e.next=14,o.json();case 14:return e.abrupt("return",e.sent);case 17:throw e.prev=17,e.t0=e.catch(5),this.handleError(e.t0);case 21:case"end":return e.stop()}}),e,this,[[5,17]])})))).apply(this,arguments)}function U(e){if(!e)return this.baseUrl;var t=baseUrl,r=!1;function n(e){r?t="".concat(t,"&").concat(e):(r=!0,t="".concat(t,"?").concat(e))}if(e){if(e.sort){if("ASC"!==e.sort&&"DESC"!==e.sort)throw new Error("Unknown sort value: ".concat(e.sort," provided"));n("sort=".concat(e.sort))}if(e.status){if("searching"!==e.status&&"expired"!==e.status&&"over_free_limit"!==e.status&&"over_max_size"!==e.status&&"invalid_object"!==e.status&&"bad_host_node"!==e.status)throw new Error("Unknown status value: ".concat(e.status," provided"));n("status=".concat(e.status))}if(e.ipfs_pin_hash){if(!i().cid(e.ipfs_pin_hash))throw new Error("Invalid IPFS hash: ".concat(e.ipfs_pin_hash));n("ipfs_pin_hash=".concat(e.ipfs_pin_hash))}if(e.limit){if(!(Number.isInteger(e.limit)&&e.limit>0&&e.limit<100))throw new Error("Invalid limit: ".concat(e.limit,". Valid limits are 1-100"));n("limit=".concat(e.limit))}if(e.offset){if(!(Number.isInteger(e.offset)&&e.offset>0))throw new Error("Invalid offset: ".concat(e.offset,". Please provide a positive integer for the offset"));n("offset=".concat(e.offset))}}return t}function $(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function R(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){$(i,n,o,a,s,"next",e)}function s(e){$(i,n,o,a,s,"throw",e)}a(void 0)}))}}function z(e){return D.apply(this,arguments)}function D(){return(D=R(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="pinning/pinJobs",t&&(r=U(r)),e.prev=2,e.next=5,this.fetch(r);case 5:if(200===(n=e.sent).status){e.next=10;break}throw new Error("unknown server response while attempting to retrieve pin jobs: ".concat(n));case 10:return e.next=12,n.json();case 12:return e.abrupt("return",e.sent);case 13:e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(2),this.handleError(e.t0);case 19:case"end":return e.stop()}}),e,this,[[2,15]])})))).apply(this,arguments)}function L(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function N(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){L(i,n,o,a,s,"next",e)}function s(e){L(i,n,o,a,s,"throw",e)}a(void 0)}))}}function V(e){return B.apply(this,arguments)}function B(){return(B=N(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("hashToUnpin value is required for removing a pin from Pinata");case 2:if(i().cid(t)){e.next=4;break}throw new Error("".concat(t," is an invalid IPFS CID"));case 4:return r="pinning/unpin/".concat(t),e.prev=5,e.next=8,this.del(r);case 8:if(200===(n=e.sent).status){e.next=11;break}throw new Error("unknown server response while removing pin from IPFS: ".concat(n));case 11:return e.abrupt("return",!0);case 14:throw e.prev=14,e.t0=e.catch(5),this.handleError(e.t0);case 18:case"end":return e.stop()}}),e,this,[[5,14]])})))).apply(this,arguments)}function F(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function J(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){F(i,n,o,a,s,"next",e)}function s(e){F(i,n,o,a,s,"throw",e)}a(void 0)}))}}function q(e){return W.apply(this,arguments)}function W(){return(W=J(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validatePinPolicyStructure(t),t){e.next=3;break}throw new Error("newPinPolicy is required for changing the pin policy of a pin");case 3:return"pinning/userPinPolicy",r={newPinPolicy:t},e.prev=5,e.next=8,this.put("pinning/userPinPolicy",r);case 8:if(200===(n=e.sent).status){e.next=11;break}throw new Error("unknown server response while changing pin policy for user: ".concat(n));case 11:return e.next=13,n.json();case 13:return e.abrupt("return",e.sent);case 16:throw e.prev=16,e.t0=e.catch(5),this.handleError(e.t0);case 20:case"end":return e.stop()}}),e,this,[[5,16]])})))).apply(this,arguments)}function H(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function G(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){H(i,n,o,a,s,"next",e)}function s(e){H(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Q(){return K.apply(this,arguments)}function K(){return(K=G(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"data/testAuthentication",e.prev=1,e.next=4,this.fetch("data/testAuthentication");case 4:if(200===(t=e.sent).status){e.next=9;break}throw new Error("unknown server response while authenticating: ".concat(t));case 9:return e.abrupt("return",{authenticated:!0});case 10:e.next=16;break;case 12:throw e.prev=12,e.t0=e.catch(1),this.handleError(e.t0);case 16:case"end":return e.stop()}}),e,this,[[1,12]])})))).apply(this,arguments)}function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e){var t=new Date(Date.parse(e));try{if(t.toISOString()===e)return e;throw new Error("dates must be in valid ISO_8601 format")}catch(e){throw new Error("dates must be in valid ISO_8601 format")}}function Y(e,t){var r="".concat(e,"?"),n="";if(t){if(t.hashContains){if("string"!=typeof t.hashContains)throw new Error("hashContains value is not a string");r+="hashContains=".concat(t.hashContains,"&")}if(t.pinStart&&(r+="pinStart=".concat(Z(t.pinStart),"&")),t.pinEnd&&(r+="pinEnd=".concat(Z(t.pinEnd),"&")),t.unpinStart&&(r+="unpinStart=".concat(Z(t.unpinStart),"&")),t.unpinEnd&&(r+="unpinEnd=".concat(Z(t.unpinEnd),"&")),t.pinSizeMin){if(isNaN(t.pinSizeMin)||t.pinSizeMin<0)throw new Error("Please make sure the pinSizeMin is a valid positive integer");r+="pinSizeMin=".concat(t.pinSizeMin,"&")}if(t.pinSizeMax){if(isNaN(t.pinSizeMax)||t.pinSizeMax<0)throw new Error("Please make sure the pinSizeMax is a valid positive integer");r+="pinSizeMax=".concat(t.pinSizeMax,"&")}if(t.status){if("all"!==t.status&&"pinned"!==t.status&&"unpinned"!==t.status)throw new Error("status value must be either: all, pinned, or unpinned");r+="status=".concat(t.status,"&")}if(t.pageLimit){if(isNaN(t.pageLimit)||t.pageLimit<=0||t.pageLimit>1e3)throw new Error("Please make sure the pageLimit is a valid integer between 1-1000");r+="pageLimit=".concat(parseInt(t.pageLimit),"&")}if(t.pageOffset){if(isNaN(t.pageOffset)||t.pageOffset<=0)throw new Error("Please make sure the pageOffset is a positive integer");r+="pageOffset=".concat(parseInt(t.pageOffset),"&")}if(t.metadata){if("object"!==X(t.metadata))throw new Error("metadata value must be an object");if(t.metadata.name&&(n="metadata[name]=".concat(t.metadata.name,"&")),t.metadata.keyvalues){if(n+="metadata[keyvalues]=","object"!==X(t.metadata.keyvalues))throw new Error("metadata keyvalues must be an object");var o={};Object.entries(t.metadata.keyvalues).forEach((function(e){var t=e[0],r=e[1];if("object"!==X(r))throw new Error("keyValue: ".concat(t," is not an object"));if(!r||!r.value||!r.op)throw new Error("keyValue: ".concat(t," must have both value and op attributes"));if("string"!=typeof r.value&&"boolean"!=typeof r.value&&"number"!=typeof r.value)throw new Error("Metadata keyvalue values must be strings, booleans, or numbers");switch(r.op){case"gt":case"gte":case"lt":case"lte":case"ne":case"eq":o[t]={value:r.value,op:r.op};break;case"between":if(!r.secondValue)throw new Error("Because between op code was passed in, keyValue: ".concat(e[0]," must have both also include a secondValue"));if("string"!=typeof r.secondValue&&"boolean"!=typeof r.secondValue&&"number"!=typeof r.secondValue)throw new Error("Metadata keyvalue secondValue must be a string, boolean, or number");o[t]={value:r.value,op:r.op,secondValue:r.secondValue};break;case"notBetween":if(!r.secondValue)throw new Error("Because notBetween op code was passed in, keyValue: ".concat(e[0]," must have both also include a secondValue"));if("string"!=typeof r.secondValue&&"boolean"!=typeof r.secondValue&&"number"!=typeof r.secondValue)throw new Error("Metadata keyvalue secondValue must be a string, boolean, or number");o[t]={value:r.value,op:r.op,secondValue:r.secondValue};break;case"like":case"notLike":case"iLike":case"notILike":case"regexp":case"iRegexp":o[t]={value:r.value,op:r.op};break;default:throw new Error("keyValue op: ".concat(r.op," is not a valid op code"))}})),n+="".concat(JSON.stringify(o))}}}return"".concat(r).concat(n)}function ee(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function te(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ee(i,n,o,a,s,"next",e)}function s(e){ee(i,n,o,a,s,"throw",e)}a(void 0)}))}}function re(){return(re=te(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"data/pinList",r=Y("data/pinList",t),e.prev=2,e.next=5,this.fetch(r);case 5:if(200===(n=e.sent).status){e.next=10;break}throw new Error("unknown server response while attempting to retrieve user pin list: ".concat(n));case 10:return e.next=12,n.json();case 12:return e.abrupt("return",e.sent);case 13:e.next=19;break;case 15:throw e.prev=15,e.t0=e.catch(2),this.handleError(e.t0);case 19:case"end":return e.stop()}}),e,this,[[2,15]])})))).apply(this,arguments)}const ne=function(e){return re.apply(this,arguments)};function oe(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ie(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){oe(i,n,o,a,s,"next",e)}function s(e){oe(i,n,o,a,s,"throw",e)}a(void 0)}))}}function ae(){return se.apply(this,arguments)}function se(){return(se=ie(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"data/userPinnedDataTotal",e.prev=1,e.next=4,this.fetch("data/userPinnedDataTotal");case 4:if(200===(t=e.sent).status){e.next=9;break}throw new Error("unknown server response while attempting to retrieve pinned data total: ".concat(t));case 9:return e.next=11,t.json();case 11:return e.abrupt("return",e.sent);case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(1),this.handleError(e.t0);case 18:case"end":return e.stop()}}),e,this,[[1,14]])})))).apply(this,arguments)}function ce(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function ue(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ce(i,n,o,a,s,"next",e)}function s(e){ce(i,n,o,a,s,"throw",e)}a(void 0)}))}}function pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}const he=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t||!t.length)throw new Error("Invalid Pinata JWT: "+t);this.jwt=t,this.baseURL="https://api.pinata.cloud",this.defaultOpts={headers:{Authorization:"Bearer ".concat(this.jwt)}},this.handleError=f.bind(this),this.validateJWT=s.bind(this),this.validateHostNodes=c.bind(this),this.validateMetadata=u.bind(this),this.validatePinPolicyStructure=p.bind(this),this.validatePinataOptions=h.bind(this),this.pinByHash=b.bind(this),this.hashMetadata=g.bind(this),this.hashPinPolicy=S.bind(this),this.pinFileToIPFS=j.bind(this),this.pinJSONToIPFS=I.bind(this),this.pinJobs=z.bind(this),this.unpin=V.bind(this),this.userPinPolicy=q.bind(this),this.testAuthentication=Q.bind(this),this.pinList=ne.bind(this),this.userPinnedDataTotal=ae.bind(this)}var r,n,o,i,a,d,l;return r=e,(n=[{key:"makeUrl",value:function(e){return"".concat(this.baseURL,"/").concat(e)}},{key:"makeOpts",value:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=t().apply(void 0,[this.defaultOpts].concat(r));return o.headers.Authorization=this.defaultOpts.headers.Authorization,o}},{key:"defaultInterceptor",value:function(e,t){return{url:e,options:t}}},{key:"fetch",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){var e=ue(regeneratorRuntime.mark((function e(t){var r,n,o,i,a,s,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},n=c.length>2&&void 0!==c[2]?c[2]:this.defaultInterceptor,o=n(this.makeUrl(t),this.makeOpts(r)),i=o.url,a=o.options,e.next=5,fetch(i,a);case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}())},{key:"post",value:(l=ue(regeneratorRuntime.mark((function e(t,r){var n,o,i,a,s,c,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:{},o=u.length>3&&void 0!==u[3]?u[3]:this.defaultInterceptor,i=o(this.makeUrl(t),this.makeOpts(n,{method:"POST",body:r})),a=i.url,s=i.options,console.log("@@post with opts",a,s),e.next=6,fetch(a,s);case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return l.apply(this,arguments)})},{key:"postJSON",value:(d=ue(regeneratorRuntime.mark((function e(t,r){var n,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},e.next=3,this.post(t,"string"==typeof r?r:JSON.stringify(r),n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return d.apply(this,arguments)})},{key:"put",value:(a=ue(regeneratorRuntime.mark((function e(t,r){var n,o,i,a,s,c,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]?u[2]:{},o=u.length>3&&void 0!==u[3]?u[3]:this.defaultInterceptor,i=o(this.makeUrl(t),this.makeOpts(n,{method:"PUT",body:"string"==typeof r?r:JSON.stringify(r)})),a=i.url,s=i.options,e.next=5,fetch(a,s);case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"del",value:(i=ue(regeneratorRuntime.mark((function e(t){var r,n,o,i,a,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:this.defaultInterceptor,n=r(this.makeUrl(t),this.makeOpts({},{method:"DELETE"})),o=n.url,i=n.options,e.next=4,fetch(o,i);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})}])&&pe(r.prototype,n),o&&pe(r,o),e}()})(),n})()}));